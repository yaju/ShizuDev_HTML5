<!DOCTYPE html>
<html>
<head>
<title>isPointInPath サンプル</title>
</head>
<body>
<script type="text/javascript">
mouse = {x: 0, y: 0};

onload = function () {
     var canvas = document.getElementById('my_canvas');
     var context = canvas.getContext('2d');

     //マウスを移動させてハートの内側に入ると色が変わる
     canvas.addEventListener('mousemove', function(e) {
          var rect = e.target.getBoundingClientRect();
          mouse.x = e.clientX - rect.left;
          mouse.y = e.clientY - rect.top;
         if(mouse.x !== 0 || mouse.y !== 0) {
               //ハート形のクリッピングパスを生成
               context.beginPath();
               context.moveTo(75,40);
               context.bezierCurveTo(75,37,70,25,50,25);
               context.bezierCurveTo(20,25,20,62.5,20,62.5);
               context.bezierCurveTo(20,80,40,102,75,120);
               context.bezierCurveTo(110,102,130,80,130,62.5);
               context.bezierCurveTo(130,62.5,130,25,100,25);
               context.bezierCurveTo(85,25,75,37,75,40);
              if(context.isPointInPath(mouse.x, mouse.y)) {
                  context.fillStyle = 'rgb(255,0,0)';
              } else {
                  context.fillStyle = 'rgb(255,187,255)';
              }
              context.fill();
         }
     }, false);
};
</script>
<canvas id="my_canvas" width="400" height="300"></canvas>
</body>
</html>
